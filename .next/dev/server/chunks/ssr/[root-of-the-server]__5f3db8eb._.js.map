{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/forum2/pages/forum/new.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default function NewThreadPage() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  // Временно! Позже подставим реального пользователя:\r\n  const authorId = 1;\r\n\r\n  const handleSubmit = async () => {\r\n    if (!title || !content) {\r\n      return alert(\"Заполните все поля\");\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(\"/api/forum/new\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          title,\r\n          content,\r\n          authorId\r\n        })\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok) {\r\n        window.location.href = `/forum/${data.threadId}`;\r\n      } else {\r\n        alert(data.message || \"Ошибка создания темы\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      alert(\"Ошибка соединения с сервером\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      background: \"#e6f8f7\",\r\n      minHeight: \"100vh\",\r\n      padding: 30\r\n    }}>\r\n      <div style={{\r\n        width: \"60%\",\r\n        margin: \"40px auto\",\r\n        background: \"white\",\r\n        padding: 25,\r\n        borderRadius: 20,\r\n        boxShadow: \"0 8px 20px rgba(0,0,0,0.15)\"\r\n      }}>\r\n        <h2 style={{ color: \"#1f7a73\", textAlign: \"center\", marginBottom: 20 }}>\r\n          Создать новую тему\r\n        </h2>\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Название темы\"\r\n          value={title}\r\n          onChange={e => setTitle(e.target.value)}\r\n          style={{\r\n            width: \"100%\",\r\n            padding: 12,\r\n            borderRadius: 10,\r\n            border: \"1px solid #4fd1c5\",\r\n            marginBottom: 15,\r\n            fontSize: 16\r\n          }}\r\n        />\r\n\r\n        <textarea\r\n          placeholder=\"Содержание темы\"\r\n          value={content}\r\n          onChange={e => setContent(e.target.value)}\r\n          style={{\r\n            width: \"100%\",\r\n            height: 150,\r\n            padding: 12,\r\n            borderRadius: 10,\r\n            border: \"1px solid #4fd1c5\",\r\n            marginBottom: 20,\r\n            fontSize: 16,\r\n            resize: \"vertical\"\r\n          }}\r\n        />\r\n\r\n        <button\r\n          onClick={handleSubmit}\r\n          style={{\r\n            width: \"100%\",\r\n            padding: 14,\r\n            background: \"#4fd1c5\",\r\n            border: \"none\",\r\n            color: \"white\",\r\n            fontSize: 18,\r\n            fontWeight: \"bold\",\r\n            borderRadius: 12,\r\n            cursor: \"pointer\"\r\n          }}\r\n        >\r\n          Создать тему\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,oDAAoD;IACpD,MAAM,WAAW;IAEjB,MAAM,eAAe;QACnB,IAAI,CAAC,SAAS,CAAC,SAAS;YACtB,OAAO,MAAM;QACf;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,kBAAkB;gBACxC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA;oBACA;gBACF;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,IAAI,EAAE,EAAE;gBACV,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,OAAO,EAAE,KAAK,QAAQ,EAAE;YAClD,OAAO;gBACL,MAAM,KAAK,OAAO,IAAI;YACxB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,GAAG,CAAC;YACZ,MAAM;QACR;IACF;IAEA,qBACE,qKAAC;QAAI,OAAO;YACV,YAAY;YACZ,WAAW;YACX,SAAS;QACX;kBACE,cAAA,qKAAC;YAAI,OAAO;gBACV,OAAO;gBACP,QAAQ;gBACR,YAAY;gBACZ,SAAS;gBACT,cAAc;gBACd,WAAW;YACb;;8BACE,qKAAC;oBAAG,OAAO;wBAAE,OAAO;wBAAW,WAAW;wBAAU,cAAc;oBAAG;8BAAG;;;;;;8BAIxE,qKAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAA,IAAK,SAAS,EAAE,MAAM,CAAC,KAAK;oBACtC,OAAO;wBACL,OAAO;wBACP,SAAS;wBACT,cAAc;wBACd,QAAQ;wBACR,cAAc;wBACd,UAAU;oBACZ;;;;;;8BAGF,qKAAC;oBACC,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAA,IAAK,WAAW,EAAE,MAAM,CAAC,KAAK;oBACxC,OAAO;wBACL,OAAO;wBACP,QAAQ;wBACR,SAAS;wBACT,cAAc;wBACd,QAAQ;wBACR,cAAc;wBACd,UAAU;wBACV,QAAQ;oBACV;;;;;;8BAGF,qKAAC;oBACC,SAAS;oBACT,OAAO;wBACL,OAAO;wBACP,SAAS;wBACT,YAAY;wBACZ,QAAQ;wBACR,OAAO;wBACP,UAAU;wBACV,YAAY;wBACZ,cAAc;wBACd,QAAQ;oBACV;8BACD;;;;;;;;;;;;;;;;;AAMT"}}]
}